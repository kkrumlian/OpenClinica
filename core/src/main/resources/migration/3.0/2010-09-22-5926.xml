<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog/1.9"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog/1.9 http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-1.9.xsd">
	<changeSet author="kkrumlian" id="2010-09-22-5926-1" dbms="postgresql">
        <comment>fix a bug introduced in 3.0.4 that allowed Pdate to store dd-MMM-yyyy instead of mm/dd/yyyy</comment>
        <sql>
            update item_data set value=  '01/' || substring(item_data.value from 1 for 2) || '/' || substring(item_data.value from 8 for 4)
			 from item where 
			item_data.item_id = item.item_id and 
			item_data_type_id = 10 and upper(value) like '__-JAN-____';
			
			update item_data set value= '02/' || substring(item_data.value from 1 for 2) || '/' || substring(item_data.value from 8 for 4)
			 from item where  
			item_data.item_id = item.item_id and 
			item_data_type_id = 10 and upper(value) like '__-FEB-____';
			
			update item_data set value=  '03/' || substring(item_data.value from 1 for 2) || '/' || substring(item_data.value from 8 for 4)
			 from item where  
			item_data.item_id = item.item_id and 
			item_data_type_id = 10 and upper(value) like '__-MAR-____';
			
			update item_data set value=  '04/' || substring(item_data.value from 1 for 2) || '/' || substring(item_data.value from 8 for 4)
			 from item where 
			item_data.item_id = item.item_id and 
			item_data_type_id = 10 and upper(value) like '__-APR-____';
			
			update item_data set value=  '05/' || substring(item_data.value from 1 for 2) || '/' || substring(item_data.value from 8 for 4)
			 from item where 
			item_data.item_id = item.item_id and 
			item_data_type_id = 10 and upper(value) like '__-MAY-____';
			
			update item_data set value=  '06/' || substring(item_data.value from 1 for 2) || '/' || substring(item_data.value from 8 for 4)
			 from item where  
			item_data.item_id = item.item_id and 
			item_data_type_id = 10 and upper(value) like '__-JUN-____';
			
			update item_data set value=  '07/' || substring(item_data.value from 1 for 2) || '/' || substring(item_data.value from 8 for 4)
			 from item where  
			item_data.item_id = item.item_id and 
			item_data_type_id = 10 and upper(value) like '__-JUL-____';
			
			update item_data set value=  '08/' || substring(item_data.value from 1 for 2) || '/' || substring(item_data.value from 8 for 4)
			 from item where 
			item_data.item_id = item.item_id and 
			item_data_type_id = 10 and upper(value) like '__-AUG-____';
			
			update item_data set value=  '09/' || substring(item_data.value from 1 for 2) || '/' || substring(item_data.value from 8 for 4)
			 from item where 
			item_data.item_id = item.item_id and 
			item_data_type_id = 10 and upper(value) like '__-SEP-____';
			
			update item_data set value=  '10/' || substring(item_data.value from 1 for 2) || '/' || substring(item_data.value from 8 for 4)
			 from item where 
			item_data.item_id = item.item_id and 
			item_data_type_id = 10 and upper(value) like '__-OCT-____';
			
			update item_data set value= '11/' || substring(item_data.value from 1 for 2) || '/' || substring(item_data.value from 8 for 4)
			 from item where 
			item_data.item_id = item.item_id and 
			item_data_type_id = 10 and upper(value) like '__-NOV-____';
			
			update item_data set value=  '12/' || substring(item_data.value from 1 for 2) || '/' || substring(item_data.value from 8 for 4)
			 from item where 
			item_data.item_id = item.item_id and 
			item_data_type_id = 10 and upper(value) like '__-DEC-____';
            
        
        </sql>
    </changeSet>
</databaseChangeLog>